

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>meerkat - tables simplified &mdash; meerkat pre-alpha documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     'pre-alpha',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="meerkat pre-alpha documentation" href="#" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="#">meerkat pre-alpha documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="meerkat-tables-simplified">
<h1>meerkat - tables simplified<a class="headerlink" href="#meerkat-tables-simplified" title="Permalink to this headline">¶</a></h1>
<p>meerkat is a simple abstraction over a table data structure. It&#8217;s being
developed for the educational purpose with the audience being python beginners.
During multiple workshops it turned out that csv module is too low-level (and
doesn&#8217;t provide the table abstraction) and Pandas is too sophisticated
for the beginners.</p>
</div>
<div class="section" id="table-object">
<h1>Table object<a class="headerlink" href="#table-object" title="Permalink to this headline">¶</a></h1>
<p>The main data structure in meerkat module is a Table class. Table objects can
be created of:</p>
<ul class="simple">
<li>list of dicts</li>
<li>list of lists</li>
<li>csv files (of different dialects)</li>
<li>as an empty table (with optionally associated csv file for final dump)</li>
</ul>
<p>and written to the csv file.</p>
<div class="section" id="table-constructor">
<h2>Table constructor<a class="headerlink" href="#table-constructor" title="Permalink to this headline">¶</a></h2>
<dl class="method">
<dt id="Table">
<tt class="descname">Table</tt><big>(</big><em>data_source=None</em>, <em>labels=</em><span class="optional">[</span><span class="optional">]</span>, <em>types=</em><span class="optional">[</span><span class="optional">]</span>, <em>**csv_opts</em><big>)</big><a class="headerlink" href="#Table" title="Permalink to this definition">¶</a></dt>
<dd><p>Table constructor can initialized in four different ways depending on data
parameter&#8217;s type:</p>
<ul>
<li><p class="first">from <em>list of dicts</em> where each dict is a single row and keys represent
columns names:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span>
    <span class="p">{</span>
        <span class="s">u&#39;column 1&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s">u&#39;column 2&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
        <span class="s">u&#39;column 3&#39;</span><span class="p">:</span> <span class="mi">3</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s">u&#39;column 1&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
        <span class="s">u&#39;column 2&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
        <span class="s">u&#39;column 3&#39;</span><span class="p">:</span> <span class="mi">6</span>
    <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Each dict in the data list has to have the same keys (all columns). If
some value is not present None should be provided:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span>
    <span class="p">{</span>
        <span class="s">u&#39;column 1&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s">u&#39;column 2&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
        <span class="s">u&#39;column 3&#39;</span><span class="p">:</span> <span class="mi">3</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s">u&#39;column 1&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
        <span class="s">u&#39;column 2&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
        <span class="s">u&#39;column 3&#39;</span><span class="p">:</span> <span class="bp">None</span>
    <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</li>
<li><p class="first">from <em>list of lists</em> where each list is a single row:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span>
    <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span> <span class="p">],</span>
    <span class="p">[</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span> <span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
<p>By default all columns names will be set to &#8216;Column 1&#8217;, &#8216;Column 2&#8217;
(starting from 1!). This behaviour can be overwritten with <em>labels</em>
parameter.</p>
</li>
<li><p class="first">from <em>csv file</em>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">t</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s">&#39;data.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Some csv related options (<em>**csv_opts</em>) are available (see below):</p>
</li>
<li><p class="first">with no data provided in two possible ways:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">t</span> <span class="o">=</span> <span class="n">Table</span><span class="p">()</span>
</pre></div>
</div>
<p>or with a name of file to be created while dumping the table data:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">t</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s">&#39;data.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>In both cases Table object is empty assuming there is no such file in the
second call.  If so, the filename will be stored in for future data dump.
As with reading data from file, the additional csv_opts kwargs are
available.</p>
</li>
</ul>
<p>Table constructor takes several optional arguments:</p>
<ul>
<li><p class="first"><em>labels</em> is a list of strings (or unicodes) to be used as column labels (and derived column slugs)</p>
</li>
<li><p class="first"><em>types</em> is a list of python types to be used for storing data in each
column. Types available are <em>int</em>, <em>float</em> and <em>unicode</em>. It&#8217;s especially
helpfull when a numeric values are string labels and should be treated as
such (e.g. personal ID).</p>
</li>
<li><p class="first"><em>**csv_opts</em> is a collection of csv related arguments (here shown with defaults):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
    <span class="s">u&#39;header&#39;</span>   <span class="p">:</span> <span class="bp">True</span><span class="p">,</span>     <span class="c"># whether file has a header row or not</span>
    <span class="s">u&#39;delimiter&#39;</span><span class="p">:</span> <span class="s">u&#39;;&#39;</span><span class="p">,</span>     <span class="c"># csv module delimiter argument</span>
    <span class="s">u&#39;quotechar&#39;</span><span class="p">:</span> <span class="s">u&#39;&quot;&#39;</span><span class="p">,</span>     <span class="c"># csv module quotechar argument</span>
    <span class="s">u&#39;encoding&#39;</span> <span class="p">:</span> <span class="s">u&#39;utf-8&#39;</span>  <span class="c"># what is the file encoding</span>
<span class="p">}</span>
</pre></div>
</div>
<p>These kwargs are available for both reading data from file and creating
an empty <em>Table</em> with a file provided for future dumps.</p>
</li>
</ul>
</dd></dl>

</div>
<div class="section" id="table-attributes">
<h2>Table attributes<a class="headerlink" href="#table-attributes" title="Permalink to this headline">¶</a></h2>
<dl class="attribute">
<dt id="rows_count">
<tt class="descname">rows_count</tt><a class="headerlink" href="#rows_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of rows in the table</p>
</dd></dl>

<dl class="attribute">
<dt id="cols_count">
<tt class="descname">cols_count</tt><a class="headerlink" href="#cols_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of columns in the table</p>
</dd></dl>

<dl class="attribute">
<dt id="schema">
<tt class="descname">schema</tt><a class="headerlink" href="#schema" title="Permalink to this definition">¶</a></dt>
<dd><p>List containing basic information about columns in the table. Each column is described by a dict:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span>
    <span class="p">{</span>
        <span class="s">u&#39;label&#39;</span><span class="p">:</span> <span class="s">u&#39;Full name of the column&#39;</span><span class="p">,</span>
        <span class="s">u&#39;slug&#39;</span> <span class="p">:</span> <span class="s">u&#39;full-name-of-the-column&#39;</span><span class="p">,</span>
        <span class="s">u&#39;index&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s">u&#39;type&#39;</span> <span class="p">:</span> <span class="nb">unicode</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s">u&#39;label&#39;</span><span class="p">:</span> <span class="s">u&#39;Full name of another column&#39;</span><span class="p">,</span>
        <span class="s">u&#39;slug&#39;</span> <span class="p">:</span> <span class="s">u&#39;full-name-of-another-column&#39;</span><span class="p">,</span>
        <span class="s">u&#39;index&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s">u&#39;type&#39;</span> <span class="p">:</span> <span class="nb">float</span>
    <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="csv_opts">
<tt class="descname">csv_opts</tt><a class="headerlink" href="#csv_opts" title="Permalink to this definition">¶</a></dt>
<dd><p>All information needed to create a csv file to write the table data. The csv_opts is such a dict:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
    <span class="s">u&#39;path&#39;</span>     <span class="p">:</span> <span class="s">&#39;/path/to/file.csv&#39;</span><span class="p">,</span>
    <span class="s">u&#39;header&#39;</span>   <span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
    <span class="s">u&#39;delimiter&#39;</span><span class="p">:</span> <span class="s">u&#39;;&#39;</span><span class="p">,</span>
    <span class="s">u&#39;quotechar&#39;</span><span class="p">:</span> <span class="s">u&#39;&quot;&#39;</span><span class="p">,</span>
    <span class="s">u&#39;encoding&#39;</span> <span class="p">:</span> <span class="s">u&#39;utf-8&#39;</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><em>Index</em></a></li>
<li><a class="reference internal" href="search.html"><em>Search Page</em></a></li>
</ul>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">meerkat - tables simplified</a></li>
<li><a class="reference internal" href="#table-object">Table object</a><ul>
<li><a class="reference internal" href="#table-constructor">Table constructor</a></li>
<li><a class="reference internal" href="#table-attributes">Table attributes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/index.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li><a href="#">meerkat pre-alpha documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, MediaLab Katowice.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>